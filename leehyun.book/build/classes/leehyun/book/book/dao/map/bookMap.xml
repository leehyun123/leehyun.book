<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="leehyun.book.book.dao.map.BookMap">
	<!-- 장바구니 G박 <select id="selectList" parameterType="java.util.ArrayList" 
		resultType="test.vo"> SELECT * FROM TEST WHERE ID_SEQ IN ( <foreach collection="array" 
		item="item" index="index" separator=","> ${item} </foreach> ) </select> -->
	<select id="getBooks" resultMap="bookMap">
		select isbn, book_title,
		author,
		publisher, publish_date, book_price, book_img,
		book_outline
		from books
		order by isbn
	</select>

	<select id="getBook" parameterType="int" resultMap="bookMap">
		select
		isbn, book_title
		from books where isbn=#{isbn}
	</select>

	<insert id="addBook" parameterType='book'>
		insert into books(isbn,
		book_title, author, publisher, publish_date, book_price,
		book_img,
		book_outline)
		values(#{isbn},#{bookTitle}, #{author}, #{publisher},
		#{publishDate}, #{bookPrice}, #{bookImg}, #{bookOutline})
	</insert>

	<update id="updateBook" parameterType='book'>
		update books set
		book_title =#{bookTitle}, author=#{author},
		publisher=#{publisher},
		publish_date=#{publishDate}, book_price=#{bookPrice},
		book_img=#{bookImg}, book_outline=#{bookOutline}
		where isbn=#{isbn}
	</update>

	<delete id="delBook" parameterType="int">
		delete books where
		isbn=#{isbn}
	</delete>

	<resultMap id="bookMap" type="book">
		<id property="isbn" column="isbn" />
		<result property="bookTitle" column="book_title" />
		<result property="author" column="author" />
		<result property="publisher" column="publisher" />
		<result property="publishDate" column="publish_date" />
		<result property="bookPrice" column="book_price" />
		<result property="bookImg" column="book_img" />
		<result property="bookOutline" column="book_outline" />
	</resultMap>
</mapper>